FROM debian:11

RUN apt-get update && apt-get upgrade -y \
  && apt-get install -y \
     build-essential pkg-config python-dev python3-pip default-libmysqlclient-dev \
  && pip3 install --upgrade pip \
  && pip3 install flask-mysqldb mysql-connector-python

WORKDIR /srv

# Copier templates et code
COPY index.html /srv/templates/index.html
COPY app_1.py /srv/app_1.py

# Exposer le port Flask
EXPOSE 5000

CMD ["flask","--app","/srv/app_1.py","run","--host=0.0.0.0"]

